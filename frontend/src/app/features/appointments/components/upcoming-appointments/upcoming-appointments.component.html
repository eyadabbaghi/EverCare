<div class="bg-white rounded-xl border border-[#C4B5FD] shadow-sm overflow-hidden">
  <div class="p-6">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-lg font-semibold text-[#2D1B4E]">Upcoming Appointments</h2>
      <div class="flex items-center space-x-2">
        <!-- View Toggle -->
        <button class="p-2 rounded-md border border-[#C4B5FD] hover:bg-[#F3E8FF] transition-colors"
                [class.bg-[#F3E8FF]]="viewMode === 'list'"
                (click)="viewMode = 'list'">
          <svg class="w-4 h-4 text-[#6B5B8C]" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
            <path d="M16 2v4"/><path d="M8 2v4"/><path d="M3 10h18"/>
          </svg>
        </button>
        <button class="p-2 rounded-md border border-[#C4B5FD] hover:bg-[#F3E8FF] transition-colors"
                [class.bg-[#F3E8FF]]="viewMode === 'calendar'"
                (click)="viewMode = 'calendar'">
          <svg class="w-4 h-4 text-[#6B5B8C]" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
            <path d="M3 10h18"/><path d="M8 2v4"/><path d="M16 2v4"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- List View -->
    <div *ngIf="viewMode === 'list'" class="space-y-3">
      <app-appointment-list-item
        *ngFor="let apt of appointments"
        [appointment]="apt"
        (onClick)="onCardClick.emit($event)">
      </app-appointment-list-item>

      <!-- Empty State -->
      <div *ngIf="appointments.length === 0" class="text-center py-12">
        <p class="text-[#6B5B8C]">No upcoming appointments</p>
      </div>
    </div>

    <!-- Calendar View (simplified) -->
    <div *ngIf="viewMode === 'calendar'" class="border rounded-lg p-4">
      <app-doctor-calendar
        [appointments]="appointments"
        (dateSelected)="onDateSelected.emit($event)">
      </app-doctor-calendar>
    </div>
  </div>
</div>
