<div class="min-h-screen bg-gradient-to-br from-[#FAF8FC] to-[#F3E8FF] p-4 md:p-8">
  <div class="max-w-7xl mx-auto space-y-6">

    <!-- Header -->
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8">


      <button
        class="bg-[#7C3AED] hover:bg-[#6D28D9] text-white font-medium py-2 px-4 rounded-md transition-colors flex items-center"
        (click)="openAddDialog()">
        <svg class="w-4 h-4 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 5v14M5 12h14"/>
        </svg>
        Nouveau rendez-vous
      </button>
    </div>

    <!-- Filters Component -->
    <app-appointment-filters
      [doctors]="doctors"
      (filtersChanged)="onFiltersChanged($event)">
    </app-appointment-filters>

    <!-- Main Grid -->
    <div class="grid lg:grid-cols-3 gap-6">
      <!-- Calendar Component -->
      <div class="lg:col-span-2">
        <app-calendar
          [appointments]="myAppointments"
          [currentDate]="currentDate"
          (monthChanged)="onMonthChanged($event)"
          (dateSelected)="onDateSelected($event)">
        </app-calendar>
      </div>

      <!-- Upcoming List Component -->
      <app-appointment-list
        title="Ã€ venir"
        [appointments]="upcomingAppointments"
        emptyMessage="Aucun rendez-vous Ã  venir"
        addButtonText="Prendre rendez-vous"
        [showAddButton]="true"
        [scrollable]="true"
        (onCardClick)="viewAppointmentDetails($event)"
        (onAction)="handleAppointmentAction($event)"
        (onAddClick)="openAddDialog()">
      </app-appointment-list>
    </div>

    <!-- Past Appointments List -->
    <app-appointment-list
      title="Historique"
      [appointments]="pastAppointments"
      emptyMessage="Aucun ancien rendez-vous"
      [showActionButtons]="false"
      [scrollable]="true"
      (onCardClick)="viewAppointmentDetails($event)">
    </app-appointment-list>

    <!-- Add Appointment Form Modal -->
    <app-appointment-form
      *ngIf="isAddDialogOpen"
      [doctors]="doctors"
      [consultationTypes]="consultationTypes"
      [caregivers]="myCaregivers"
      [availableSlots]="availableSlots"
      [formData]="newAppointment"
      (onClose)="closeAddDialog()"
      (onSubmit)="addAppointment($event)"
      (onDoctorChange)="onDoctorSelected($event)"
      (onDateChange)="onDateSelected($event)">
    </app-appointment-form>

    <!-- Appointment Details Modal -->
    <app-appointment-details
      *ngIf="selectedAppointment"
      [appointment]="selectedAppointment"
      (onClose)="closeDetailsDialog()"
      (onConfirm)="confirmAppointment($event)"
      (onCancel)="cancelAppointment($event)"
      (onJoinCall)="joinVideoCall($event)">
    </app-appointment-details>

  </div>
</div>
